<!-- app/views/family_groups/_add_users.html.erb -->
<h3 class="text-lg font-medium leading-6 text-gray-900">Usuários Participantes</h3>
<table class="min-w-full divide-y divide-gray-200 mb-5">
  <thead class="bg-gray-50">
    <tr>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Função</th>
    </tr>
  </thead>
  <tbody class="bg-white divide-y divide-gray-200">
    <% family_group.group_members.each do |member| %>
      <tr>
        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><%= member.user.name %></td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= member.user.email %></td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><%= member.role %></td>
      </tr>
    <% end %>
    <tr>
      <td colspan="3" class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
        <%= form_with url: add_user_family_group_path(family_group), local: false, method: :post, data: { turbo_frame: "modal-frame" } do |form| %>
          <div class="flex items-center">
            <%= form.email_field :email, placeholder: "Email do usuário", class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" %>
            <%= form.submit "Adicionar", class: "ml-2 bg-blue-500 text-white py-2 px-4 rounded-md shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2" %>
          </div>
        <% end %>
      </td>
    </tr>
  </tbody>
</table>